(function(e){function t(t){for(var i,o,c=t[0],s=t[1],l=t[2],d=0,u=[];d<c.length;d++)o=c[d],a[o]&&u.push(a[o][0]),a[o]=0;for(i in s)Object.prototype.hasOwnProperty.call(s,i)&&(e[i]=s[i]);h&&h(t);while(u.length)u.shift()();return r.push.apply(r,l||[]),n()}function n(){for(var e,t=0;t<r.length;t++){for(var n=r[t],i=!0,c=1;c<n.length;c++){var s=n[c];0!==a[s]&&(i=!1)}i&&(r.splice(t--,1),e=o(o.s=n[0]))}return e}var i={},a={app:0},r=[];function o(t){if(i[t])return i[t].exports;var n=i[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,o),n.l=!0,n.exports}o.m=e,o.c=i,o.d=function(e,t,n){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)o.d(n,i,function(t){return e[t]}.bind(null,i));return n},o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="/";var c=window["webpackJsonp"]=window["webpackJsonp"]||[],s=c.push.bind(c);c.push=t,c=c.slice();for(var l=0;l<c.length;l++)t(c[l]);var h=s;r.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("cd49")},"5c48":function(e,t,n){},"7c55":function(e,t,n){"use strict";var i=n("5c48"),a=n.n(i);a.a},cd49:function(e,t,n){"use strict";n.r(t);n("cadf"),n("551c"),n("f751"),n("097d");var i=n("2b0e"),a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("canvas",{attrs:{id:"canvas"}})},r=[],o=(n("7f7f"),n("ac4d"),n("8a81"),n("ac6a"),n("d225")),c=n("b0b4"),s=n("308d"),l=n("6bb5"),h=n("4e2b"),d=n("9ab4"),u=n("60a3"),w=n("5a89"),f=n("4721"),m=n("34ad"),p=function(e){function t(){var e;return Object(o["a"])(this,t),e=Object(s["a"])(this,Object(l["a"])(t).apply(this,arguments)),e.cameraDistance=100,e.near=.1,e.far=1e3,e.fogColor=15658734,e.clearColor=15658734,e}return Object(h["a"])(t,e),Object(c["a"])(t,[{key:"mounted",value:function(){this.canvas=document.getElementById("canvas"),this.context=this.canvas.getContext("webgl"),this.context&&(this.cameraDistance=Math.max(window.innerWidth,window.innerHeight),this.init())}},{key:"init",value:function(){this.initScene(),this.initCamera(),this.initRender(),this.initLight(),this.initControl(),this.initGltf(),this.initUI(),this.initWindowResizeEvent(),this.initAnimate()}},{key:"initStats",value:function(){}},{key:"initScene",value:function(){this.scene3D=new w["tb"],this.scene2D=new w["tb"]}},{key:"initCamera",value:function(){var e=this.calcFov(this.cameraDistance,window.innerWidth,window.innerWidth/window.innerHeight);this.camera3D=new w["ib"](e,window.innerWidth/window.innerHeight,this.near,this.far),this.camera3D.position.set(0,this.cameraDistance/4*3,this.cameraDistance),this.camera3D.lookAt(new w["Mb"](0,0,0)),this.camera3D.updateProjectionMatrix(),this.camera2D=new w["gb"](0,window.innerWidth,window.innerHeight,0,this.near,this.far),this.camera2D.position.set(0,0,this.cameraDistance),this.camera2D.lookAt(new w["Mb"](0,0,0)),this.camera2D.updateProjectionMatrix()}},{key:"initRender",value:function(){this.renderer3D=new w["Qb"]({canvas:this.canvas,context:this.context,antialias:!0,powerPreference:"high-performance"}),this.renderer3D.autoClearColor=!1,this.renderer3D.setClearColor(this.clearColor,1),this.renderer3D.setSize(window.innerWidth,window.innerHeight,!0),this.renderer3D.setPixelRatio(window.devicePixelRatio),this.renderer3D.shadowMap.enabled=!0,this.renderer3D.shadowMap.type=w["hb"],document.body.appendChild(this.renderer3D.domElement)}},{key:"initWindowResizeEvent",value:function(){var e=this;window.onresize=function(){e.camera3D.fov=e.calcFov(e.cameraDistance,window.innerWidth,window.innerWidth/window.innerHeight),e.camera3D.aspect=window.innerWidth/window.innerHeight,e.camera3D.updateProjectionMatrix(),e.camera2D.left=0,e.camera2D.right=window.innerWidth,e.camera2D.top=window.innerHeight,e.camera2D.bottom=0,e.camera2D.updateProjectionMatrix(),e.logo&&e.logo.material&&e.logo.material.map&&e.logo.position.set(.05*window.innerWidth+e.logo.material.map.image.height/2,.95*window.innerHeight-e.logo.material.map.image.height/2,1),e.renderer3D.setSize(window.innerWidth,window.innerHeight,!0)}}},{key:"initLight",value:function(){var e=new w["c"](15658734,.75);this.scene3D.add(e);var t=new w["jb"](15658734,1,1e3,1.5);t.castShadow=!0,t.shadow.mapSize.width=512,t.shadow.mapSize.height=512,t.shadow.camera.near=.1,t.shadow.camera.far=1e3,t.position.set(100,400,300),this.scene3D.add(t)}},{key:"initControl",value:function(){this.controls=new f["a"](this.camera3D,this.renderer3D.domElement),this.controls.minDistance=200,this.controls.maxDistance=800,this.controls.minPolarAngle=2*-Math.PI,this.controls.maxPolarAngle=2*Math.PI,this.controls.minAzimuthAngle=2*-Math.PI,this.controls.maxAzimuthAngle=2*Math.PI,this.controls.zoomSpeed=2,this.controls.rotateSpeed=1,this.controls.panSpeed=1,this.controls.autoRotate=!0,this.controls.autoRotateSpeed=1}},{key:"initGltf",value:function(){var e=new m["a"],t=this;e.load("./models/gltf/scene.gltf",function(e){var n=e.scene;n.scale.set(30,30,30);var i=!0,a=!1,r=void 0;try{for(var o,c=n.children[Symbol.iterator]();!(i=(o=c.next()).done);i=!0){var s=o.value;"RootNode_(gltf_orientation_matrix)"===s.name&&(s.castShadow=!0,s.receiveShadow=!0)}}catch(l){a=!0,r=l}finally{try{i||null==c.return||c.return()}finally{if(a)throw r}}t.scene3D.add(n),t.gltfHander=function(){}},function(e){console.log(e.loaded/e.total*100+"% loaded")},function(e){console.log("An error happened")})}},{key:"initUI",value:function(){var e=new w["Hb"],t=this;e.load("./images/jiji.png",function(e){e.magFilter=w["U"],e.minFilter=w["U"],e.anisotropy=4;var n=new w["Bb"]({map:e,transparent:!0,precision:"highp",side:w["m"]}),i=e.image.width,a=e.image.height;t.logo=new w["Ab"](n),t.logo.scale.set(i,a,1),t.logo.position.set(.05*window.innerWidth+i/2,.95*window.innerHeight-a/2,1),t.scene2D.add(t.logo)},function(e){console.log(e.loaded/e.total*100+"% loaded")},function(e){console.log("An error happened")})}},{key:"initAnimate",value:function(){var e=this;this.animate=function(){requestAnimationFrame(e.animate),e.gltfHander&&e.gltfHander(),e.controls.update(),e.renderer3D.clear(),e.renderer3D.render(e.scene3D,e.camera3D),e.renderer3D.render(e.scene2D,e.camera2D)},this.animate()}},{key:"calcFov",value:function(e,t,n){return n<1&&(t/=n),2*Math.atan(t/2/e)*(180/Math.PI)}}]),t}(u["b"]);p=d["a"]([u["a"]],p);var g=p,v=g,D=(n("7c55"),n("2877")),b=Object(D["a"])(v,a,r,!1,null,null,null),y=b.exports,x=n("2f62");i["a"].use(x["a"]);var j=new x["a"].Store({state:{},mutations:{},actions:{}});i["a"].config.productionTip=!1,new i["a"]({store:j,render:function(e){return e(y)}}).$mount("#app")}});
//# sourceMappingURL=app.cf87a5ca.js.map